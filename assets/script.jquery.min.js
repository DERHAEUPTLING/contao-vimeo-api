(function(a){a(document).ready(function(){var e=[];var b=[];var d=10;function g(i){for(var j in e){if(i&&j==i){continue}e[j].api("pause")}}function f(k){var m=parseInt(k.data("vimeo-width"));var i=parseInt(k.data("vimeo-height"));var l=m/i;var n=a(window).height()*(1-(d/100));var j=a(window).width()*(1-(d/100));if(m>=j){m=j;i=j/l}if(i>=n){i=n;m=n*l}return{width:Math.round(m),height:Math.round(i)}}function c(j){var k=j.data("vimeo-video");var i="vimeo-video-"+k;return a("<iframe>",{src:"https://player.vimeo.com/video/"+k+"?api=1&amp;player_id="+i,id:i,width:parseInt(j.data("vimeo-width")),height:parseInt(j.data("vimeo-height")),"data-vimeo-width":parseInt(j.data("vimeo-width")),"data-vimeo-height":parseInt(j.data("vimeo-height")),frameborder:0,webkitallowfullscreen:true,mozallowfullscreen:true,allowfullscreen:true})}function h(j){var i=f(j);j.css("width",i.width);j.css("height",i.height);a.colorbox.resize({innerWidth:i.width,innerHeight:i.height})}a("[data-vimeo-video]").each(function(){var l=a(this);var m=l.find(".embed");var i=l.find(".trigger");var k,j;if(l.data("vimeo-lightbox")&&!a("body").hasClass("mobile")){i.colorbox({className:"vimeo-video-lightbox",current:"video {current} of {total}",href:"#"+l.attr("id")+" .embed",inline:true,loop:false,rel:"vimeo-video",onComplete:function(){if(k){return}k=c(l).appendTo(m).hide();b.push(k);k.on("load",function(){var n=l.data("vimeo-video");if(!e[n]){j=$f(k[0]);e[n]=j;j.addEvent("ready",function(){if(k.parents("#colorbox").length){g(n);j.api("play");if(l.data("vimeo-lightbox-autoplay")){j.addEvent("finish",function(){a.colorbox.next()})}}})}if(k.parents("#colorbox").length){h(k);k.show()}})}})}else{i.on("click",function(n){n.preventDefault();if(!k){k=c(l).appendTo(m);k.on("load",function(){j=$f(k[0]);e.push(j);g();l.addClass("active");if(!a("body").hasClass("mobile")){j.api("play")}})}else{g();l.addClass("active");if(!a("body").hasClass("mobile")){j.api("play")}}})}});a(window).on("resize",function(){if(b.length){for(var j=0;j<b.length;j++){var k=b[j];if(k.parents("#colorbox").length){h(k)}}}})})})(jQuery);